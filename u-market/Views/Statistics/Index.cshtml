@{
}
<h1>Statistics</h1>
<script src="https://d3js.org/d3.v6.min.js"></script>


<svg id="firstGraph">

</svg>
<script>

    const data = [
        { name: "123", month: 0, apples: 3840, bananas: 1920, cherries: 960, dates: 400 },
        { name: "456", month: 50, apples: 1600, bananas: 1440, cherries: 960, dates: 400 },
        { name: "789", month: 100, apples: 640, bananas: 960, cherries: 640, dates: 400 },
        { name: "10", month: 150, apples: 320, bananas: 480, cherries: 640, dates: 400 }
    ];
    const stack = d3.stack()
        .keys(["apples", "bananas", "cherries", "dates"])
        .order(d3.stackOrderNone)
        .offset(d3.stackOffsetNone);
    const series = stack(data);
   
    console.log(series);

    var height = 600;
    var width = 600;
    d3.select("#firstGraph").attr("height", height).attr("width", width)
        .append("g")
        .selectAll("g")
        .data(series)
        .join("g")
            .attr("fill", d => {
                switch (d.key) {
                    case "apples":
                        return "#123456"
                    case "bananas":
                        return "#723456"
                    case "cherries":
                        return "#a23456"
                    case "dates":
                        return "#f123456"
                }
            })
        .selectAll("rect")
        .data(d => d)
        .join("rect")
            .attr("x", d => (d["data"].month))
            .attr("y", d => (d[0] / 30))
            .attr("height", d => (d[1] - d[0]) / 30).attr("width", 35);

</script>
